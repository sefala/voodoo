(this["webpackJsonpnecro-frontend"]=this["webpackJsonpnecro-frontend"]||[]).push([[15],{941:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return Te}));var i=t(0),c=t(19),r=t(2),a=t(1),o=t.n(a),s=t(34),u=t(14),l=t.n(u),d=t(93),b=t(137),j=t(850),x=t(864),f=t.n(x),p=t(361),O=function(){return Object(a.useContext)(p.a)},h=t(142),v=t(851),m=t(243),g=t(7),k=t(9),y=t.n(k),w=t(17),C=t(5),S=t(837);function D(){var e=Object(g.a)(["\n  color: ",";\n  font-size: 14px;\n"]);return D=function(){return e},e}var z=C.e.div(D(),(function(e){var n=e.isFinished;return e.theme.colors[n?"textDisabled":"primary"]})),B=function(e){var n=e.text,t=e.isFinished,c=void 0!==t&&t;return Object(i.jsx)(z,{isFinished:c,children:n})},F=t(831),M=t(852),N=t(829),A=t(847),I=t(853),T=t(830),E=t(836),P=t(844),R=t.n(P);function U(){var e=Object(g.a)(["\n  color: ",";\n"]);return U=function(){return e},e}var W=Object(C.e)(b.Text)(U(),(function(e){var n=e.isDisabled,t=e.color,i=e.theme;return n?i.colors.textDisabled:t})),H=function(e){var n=e.value,t=e.fontSize,c=e.color,r=e.decimals,o=e.isDisabled,s=e.unit,u=Object(a.useRef)(0);return Object(a.useEffect)((function(){u.current=n}),[n]),Object(i.jsxs)(W,{bold:!0,color:c,fontSize:t,isDisabled:o,children:[Object(i.jsx)(R.a,{start:u.current,end:n,decimals:r,duration:1,separator:","}),n&&s&&Object(i.jsx)("span",{children:s})]})};H.defaultProps={fontSize:"32px",isDisabled:!1,color:"text",decimals:3};var J=H,_=t(838),q=t(839),G=function(e){var n=e.max,t=e.onConfirm,r=e.onDismiss,o=e.tokenName,s=void 0===o?"":o,u=Object(a.useState)(""),l=Object(c.a)(u,2),d=l[0],j=l[1],x=Object(a.useState)(!1),f=Object(c.a)(x,2),p=f[0],O=f[1],h=Object(N.a)(),v=Object(a.useMemo)((function(){return Object(T.b)(n)}),[n]),m=Object(a.useCallback)((function(e){j(e.currentTarget.value)}),[j]),g=Object(a.useCallback)((function(){j(v)}),[v,j]);return Object(i.jsxs)(b.Modal,{title:"".concat(h(316,"Deposit")," ").concat(s," Tokens"),onDismiss:r,children:[Object(i.jsx)(q.a,{value:d,onSelectMax:g,onChange:m,max:v,symbol:s}),Object(i.jsxs)(_.a,{children:[Object(i.jsx)(b.Button,{fullWidth:!0,variant:"secondary",onClick:r,children:h(462,"Cancel")}),Object(i.jsx)(b.Button,{fullWidth:!0,disabled:p,onClick:Object(w.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,t(d);case 3:O(!1),r();case 5:case"end":return e.stop()}}),e)}))),children:p?h(488,"Pending Confirmation"):h(464,"Confirm")})]})]})},L=function(e){var n=e.onConfirm,t=e.onDismiss,r=e.max,o=e.tokenName,s=void 0===o?"":o,u=Object(a.useState)(""),l=Object(c.a)(u,2),d=l[0],j=l[1],x=Object(a.useState)(!1),f=Object(c.a)(x,2),p=f[0],O=f[1],h=Object(N.a)(),v=Object(a.useMemo)((function(){return Object(T.b)(r)}),[r]),m=Object(a.useCallback)((function(e){j(e.currentTarget.value)}),[j]),g=Object(a.useCallback)((function(){j(v)}),[v,j]);return Object(i.jsxs)(b.Modal,{title:"Withdraw ".concat(s),onDismiss:t,children:[Object(i.jsx)(q.a,{onSelectMax:g,onChange:m,value:d,max:v,symbol:s}),Object(i.jsxs)(_.a,{children:[Object(i.jsx)(b.Button,{variant:"secondary",onClick:t,children:h(462,"Cancel")}),Object(i.jsx)(b.Button,{disabled:p,onClick:Object(w.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,n(d);case 3:O(!1),t();case 5:case"end":return e.stop()}}),e)}))),children:p?h(488,"Pending Confirmation"):h(464,"Confirm")})]})]})};function Y(){var e=Object(g.a)(["\n  color: ",";\n  font-weight: 600;\n  font-size: 24px;\n  line-height: 1.1;\n  margin-bottom: 14px;\n"]);return Y=function(){return e},e}var K=C.e.div(Y(),(function(e){var n=e.isFinished;return e.theme.colors[n?"textDisabled":"text"]}));function Q(){var e=Object(g.a)(["\n  background: ",";\n  box-shadow: 0px 2px 12px -8px rgba(25, 19, 38, 0.1), 0px 1px 1px rgba(25, 19, 38, 0.05);\n  border-radius: 32px;\n  display: flex;\n  color: ",";\n  box-shadow: ",";\n  flex-direction: column;\n  position: relative;\n"]);return Q=function(){return e},e}var V=C.e.div(Q(),(function(e){return e.theme.card.background}),(function(e){var n=e.isFinished;return e.theme.colors[n?"textDisabled":"secondary"]}),(function(e){return e.isActive?"0px 0px 0px 1px #0098A1, 0px 0px 4px 8px rgba(31, 199, 212, 0.4);":"0px 2px 12px -8px rgba(25, 19, 38, 0.1), 0px 1px 1px rgba(25, 19, 38, 0.05)"})),X=t(77);function Z(){var e=Object(g.a)(["\n  align-items: center;\n  color: inherit;\n  display: flex;\n  flex: 1;\n  height: 56px;\n  justify-content: center;\n  margin: 0 ","px;\n  padding: 0 ","px;\n  text-decoration: none;\n"]);return Z=function(){return e},e}function $(){var e=Object(g.a)(["\n  align-items: center;\n  color: inherit;\n  display: flex;\n  flex: 1;\n  height: 56px;\n  justify-content: center;\n  margin: 0 ","px;\n  padding: 0 ","px;\n  text-decoration: none;\n"]);return $=function(){return e},e}function ee(){var e=Object(g.a)(["\n  align-items: center;\n  background: ",";\n  border: 0;\n  border-radius: 12px;\n  color: ",";\n  cursor: pointer;\n  display: flex;\n  font-size: ","px;\n  font-weight: 700;\n  height: ","px;\n  justify-content: center;\n  outline: none;\n  padding-left: ","px;\n  padding-right: ","px;\n  pointer-events: ",";\n  width: 100%;\n  border: 2px solid ",";\n  width: 100px;\n  height: 30px;\n  font-size: 14px;\n  padding: 0px;\n"]);return ee=function(){return e},e}var ne=C.e.button(ee(),(function(e){return e.disabled?"#ddd":e.theme.card.background}),(function(e){return e.disabled?"#acaaaf":"#32cad7"}),(function(e){return e.fontSize}),(function(e){return e.size}),(function(e){return e.padding}),(function(e){return e.padding}),(function(e){return e.disabled?"none":void 0}),(function(e){return e.disabled?"#eee":"#33cbd7"})),te=Object(C.e)(X.b)($(),(function(e){return-e.theme.spacing[4]}),(function(e){return e.theme.spacing[4]})),ie=C.e.a(Z(),(function(e){return-e.theme.spacing[4]}),(function(e){return e.theme.spacing[4]})),ce=function(e){var n,t,c,r=e.children,o=e.disabled,s=e.href,u=e.onClick,l=e.size,d=e.text,b=e.to,j=Object(a.useContext)(C.a),x=j.colors,f=j.spacing,p=x.background;switch(l){case"sm":t=f[3],n=36,c=14;break;case"lg":t=f[4],n=72,c=16;break;case"md":default:t=f[4],n=56,c=16}var O=Object(a.useMemo)((function(){return b?Object(i.jsx)(te,{to:b,children:d}):s?Object(i.jsx)(ie,{href:s,target:"__blank",children:d}):d}),[s,d,b]);return Object(i.jsxs)(ne,{boxShadow:undefined,color:p,disabled:o,fontSize:c,onClick:u,padding:t,size:n,children:[r,O]})},re=t(937),ae=t(938);function oe(){var e=Object(g.a)(["\n  font-size: 14px;\n"]);return oe=function(){return e},e}function se(){var e=Object(g.a)(["\n  flex: 1;\n"]);return se=function(){return e},e}function ue(){var e=Object(g.a)(["\n  align-items: center;\n  display: flex;\n"]);return ue=function(){return e},e}function le(){var e=Object(g.a)(["\n  margin-top: 24px;\n"]);return le=function(){return e},e}function de(){var e=Object(g.a)(["\n  align-items: center;\n  background-color: transparent;\n  border: 0;\n  color: ",";\n  cursor: pointer;\n  display: inline-flex;\n  font-size: 16px;\n  font-weight: 600;\n  height: 32px;\n  justify-content: center;\n  outline: 0;\n  padding: 0;\n  &:hover {\n    opacity: 0.9;\n  }\n\n  & > svg {\n    margin-left: 4px;\n  }\n"]);return de=function(){return e},e}function be(){var e=Object(g.a)(["\n  border-top: 1px solid ",";\n  color: ",";\n  padding: 24px;\n"]);return be=function(){return e},e}var je=C.e.div(be(),(function(e){return e.theme.isDark?"#524B63":"#E9EAEB"}),(function(e){var n=e.isFinished;return e.theme.colors[n?"textDisabled2":"primary2"]})),xe=C.e.button(de(),(function(e){return e.theme.colors.primary})),fe=C.e.div(le()),pe=C.e.div(ue()),Oe=C.e.div(se()),he=C.e.div(oe()),ve=function(e){var n=e.totalStaked,t=e.blocksRemaining,r=e.isFinished,o=e.blocksUntilStart,s=Object(a.useState)(!1),u=Object(c.a)(s,2),l=u[0],d=u[1],b=l?re.a:ae.a;return Object(i.jsxs)(je,{isFinished:r,children:[Object(i.jsx)(pe,{children:Object(i.jsxs)(xe,{onClick:function(){return d(!l)},children:[l?"Hide":"Details"," ",Object(i.jsx)(b,{})]})}),l&&Object(i.jsxs)(fe,{children:[Object(i.jsxs)(pe,{style:{marginBottom:"4px"},children:[Object(i.jsx)(Oe,{children:Object(i.jsxs)(he,{children:[Object(i.jsx)("span",{role:"img","aria-label":"syrup",children:" "}),"Total"]})}),Object(i.jsx)(J,{fontSize:"14px",isDisabled:r,value:Object(T.a)(n)})]}),o>0&&Object(i.jsxs)(pe,{children:[Object(i.jsx)(Oe,{children:Object(i.jsx)(he,{children:"Start:"})}),Object(i.jsx)(J,{fontSize:"14px",isDisabled:r,value:o,decimals:0})]}),0===o&&t>0&&Object(i.jsxs)(pe,{children:[Object(i.jsx)(Oe,{children:Object(i.jsx)(he,{children:"End:"})}),Object(i.jsx)(J,{fontSize:"14px",isDisabled:r,value:t,decimals:0})]})]})]})},me=o.a.memo(ve);function ge(){var e=Object(g.a)(["\n  display: flex;\n  font-size: 14px;\n"]);return ge=function(){return e},e}function ke(){var e=Object(g.a)(["\n  height: ","px;\n  width: ","px;\n"]);return ke=function(){return e},e}function ye(){var e=Object(g.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex-direction: row;\n"]);return ye=function(){return e},e}function we(){var e=Object(g.a)(["\n  display: flex;\n  justify-content: center;\n  margin: 16px 0;\n  width: 100%;\n  box-sizing: border-box;\n"]);return we=function(){return e},e}function Ce(){var e=Object(g.a)(["\n  background-image: url('/images/pool-finished-sash.svg');\n  background-position: top right;\n  background-repeat: not-repeat;\n  height: 135px;\n  position: absolute;\n  right: -24px;\n  top: -24px;\n  width: 135px;\n"]);return Ce=function(){return e},e}var Se=C.e.div(Ce()),De=C.e.div(we()),ze=C.e.div(ye()),Be=C.e.div(ke(),(function(e){return e.theme.spacing[4]}),(function(e){return e.theme.spacing[4]})),Fe=C.e.div(ge()),Me=function(e){var n=e.pool,t=n.sousId,r=n.image,o=n.tokenName,s=n.stakingTokenName,u=n.stakingTokenAddress,j=n.harvest,x=n.apy,f=n.tokenDecimals,p=n.totalStaked,h=n.startBlock,v=n.endBlock,m=n.isFinished,g=n.userData,k=n.stakingLimit,C=Object(N.a)(),D=Object(F.a)(u),z=Object(d.m)().account,P=O(),R=Object(M.b)(D,t).onApprove,U=Object(A.a)(t).onStake,W=Object(I.b)(t).onUnstake,H=Object(E.c)(t).onReward,_=Object(a.useState)(!1),q=Object(c.a)(_,2),Y=q[0],Q=q[1],X=Object(a.useState)(!1),Z=Object(c.a)(X,2),$=Z[0],ee=Z[1],ne=new l.a((null===g||void 0===g?void 0:g.allowance)||0),te=new l.a((null===g||void 0===g?void 0:g.stakingTokenBalance)||0),ie=new l.a((null===g||void 0===g?void 0:g.stakedBalance)||0),re=new l.a((null===g||void 0===g?void 0:g.pendingReward)||0),ae=Math.max(h-P,0),oe=Math.max(v-P,0),se=(null===ie||void 0===ie?void 0:ie.toNumber())>0,ue=!se&&!ne.toNumber(),le=m&&se,de=new l.a(k).multipliedBy(new l.a(10).pow(f)),be=Object(b.useModal)(Object(i.jsx)(G,{max:k&&te.isGreaterThan(de)?de:te,onConfirm:U,tokenName:k?"".concat(s," (").concat(k," max)"):s})),je=Object(c.a)(be,1)[0],xe=Object(b.useModal)(Object(i.jsx)(L,{max:ie,onConfirm:W,tokenName:s})),fe=Object(c.a)(xe,1)[0],pe=Object(a.useCallback)(Object(w.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Q(!0),e.next=4,R();case 4:e.sent||Q(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[R,Q]);return Object(i.jsxs)(V,{isActive:le,isFinished:m,children:[m&&Object(i.jsx)(Se,{}),Object(i.jsxs)("div",{style:{padding:"24px"},children:[Object(i.jsxs)(K,{isFinished:m,children:[o," Pool"]}),Object(i.jsxs)("div",{style:{marginBottom:"8px",display:"flex",alignItems:"center"},children:[Object(i.jsx)("div",{style:{flex:1},children:Object(i.jsx)(b.Image,{src:"/images/tokens/".concat(r||o,".png"),width:64,height:64,alt:o})}),z&&j&&Object(i.jsx)(ce,{disabled:!re.toNumber()||$,text:$?"Collecting":"Harvest",onClick:Object(w.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ee(!0),e.next=3,H();case 3:ee(!1);case 4:case"end":return e.stop()}}),e)})))})]}),Object(i.jsx)(ze,{children:Object(i.jsx)(J,{value:Object(T.a)(re,f),isDisabled:m})}),Object(i.jsx)(B,{isFinished:m,text:C(330,"".concat(o," earned"))}),Object(i.jsxs)(De,{children:[!z&&Object(i.jsx)(S.a,{}),z&&(ue?Object(i.jsx)("div",{style:{flex:1},children:Object(i.jsx)(b.Button,{disabled:m||Y,onClick:pe,fullWidth:!0,children:"Approve ".concat(s)})}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(b.Button,{disabled:ie.eq(new l.a(0))||$,onClick:fe,children:"Unstake ".concat(s)}),Object(i.jsx)(Be,{}),Object(i.jsx)(b.IconButton,{disabled:m,onClick:je,children:Object(i.jsx)(b.AddIcon,{color:"background"})})]}))]}),Object(i.jsxs)(Fe,{children:[Object(i.jsxs)("div",{style:{flex:1},children:[C(736,"APR"),":"]}),m||!x||(null===x||void 0===x?void 0:x.isNaN())||!(null===x||void 0===x?void 0:x.isFinite())?"-":Object(i.jsx)(J,{fontSize:"14px",isDisabled:m,value:null===x||void 0===x?void 0:x.toNumber(),decimals:2,unit:"%"})]}),Object(i.jsxs)(Fe,{children:[Object(i.jsxs)("div",{style:{flex:1},children:[Object(i.jsx)("span",{role:"img","aria-label":s,children:" "}),C(384,"Your Stake"),":"]}),Object(i.jsx)(J,{fontSize:"14px",isDisabled:m,value:Object(T.a)(ie)})]})]}),Object(i.jsx)(me,{totalStaked:p,blocksRemaining:oe,isFinished:m,blocksUntilStart:ae})]})};function Ne(){var e=Object(g.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 32px;\n"]);return Ne=function(){return e},e}var Ae=function(){var e=Object(s.g)(),n=e.url,t=e.isExact,c=Object(N.a)();return Object(i.jsx)(Ie,{children:Object(i.jsxs)(b.ButtonMenu,{activeIndex:t?0:1,size:"sm",variant:"subtle",children:[Object(i.jsx)(b.ButtonMenuItem,{as:X.b,to:"".concat(n),children:c(999,"Active")}),Object(i.jsx)(b.ButtonMenuItem,{as:X.b,to:"".concat(n,"/history"),children:c(999,"Inactive")})]})})},Ie=C.e.div(Ne()),Te=function(){var e=Object(s.g)().path,n=Object(d.m)().account,t=Object(h.e)(n),a=Object(h.f)(),o=Object(h.i)(),u=O(),x=t.map((function(e){var n=o.div(a),t=new l.a("wbnb"===e.tokenName?1:a).times(e.tokenPerBlock).times(j.a),i=n.times(e.totalStaked),c=t.div(i).times(100);return Object(r.a)(Object(r.a)({},e),{},{isFinished:e.isFinished||u>e.endBlock,apy:c})})),p=f()(x,(function(e){return e.isFinished})),g=Object(c.a)(p,2),k=g[0],y=g[1];return Object(i.jsxs)(m.a,{children:[Object(i.jsxs)(v.a,{children:[Object(i.jsx)(b.Heading,{as:"h1",size:"lg",mb:"50px",style:{textAlign:"center"},children:"Juju Stakes"}),Object(i.jsx)(Ae,{})]}),Object(i.jsxs)(v.a,{children:[Object(i.jsx)(s.a,{exact:!0,path:"".concat(e),children:Object(i.jsx)(i.Fragment,{children:y.map((function(e){return Object(i.jsx)(Me,{pool:e},e.sousId)}))})}),Object(i.jsx)(s.a,{path:"".concat(e,"/history"),children:k.map((function(e){return Object(i.jsx)(Me,{pool:e},e.sousId)}))})]})]})}}}]);
//# sourceMappingURL=15.88ef5c5e.chunk.js.map